@inject IModalService modals

<img class="@Class_value" src="@(DescriptorView.Value.Source)" alt="@(DescriptorView.Value.Alt)" @onclick="ShowPreview"/>



@code {
    [CascadingParameter]
    public ImagePool.Data? PoolData{ get; set; }

    [Parameter]
    public string Source { set => Descr = Descr with { Source = value }; }
    [Parameter]
    public string Alt { set => Descr = Descr with { Alt = value }; }

    [Parameter]
    public ImageDescriptor Descr { get; set; } = new("", "");

    private DoubleLinkedList<ImageDescriptor> DescriptorView { get; set; } = default!;

    [Parameter]
    public string? Class { get; set; }

    [Parameter]
    public bool Previewable { get; set; } = true;

    private string Class_value => Class + "img-fluid";


    protected override void OnParametersSet()
    {
        if (Descr == null) throw new ArgumentNullException(nameof(Descr));

        DescriptorView = Descr;
        if (PoolData != null && Previewable)
            PoolData.Images = PoolData.Images.AppendList(DescriptorView);
    }

    private void ShowPreview()
    {
        if (!Previewable) return;

        modals.ShowImagePreview(DescriptorView);
    }
}
